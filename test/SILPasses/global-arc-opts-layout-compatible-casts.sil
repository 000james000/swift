// RUN: %sil-opt -global-arc-opts %s | FileCheck %s

// This file is separate from the normal ARC optimizer tests to make
// it easy to remove when layout compatible types are removed.

import Builtin

class C {}

// CHECK-LABEL: sil @test : $@thin (C) -> () {
// CHECK-NOT: strong_retain
// CHECK-NOT: strong_release
sil @test : $@thin (C) -> () {
bb0(%0 : $C):
  strong_retain %0 : $C
  %1 = unchecked_ref_bit_cast %0 : $C to $Builtin.NativeObject
  strong_release %1 : $Builtin.NativeObject
  %2 = tuple()
  return %2 : $()
}