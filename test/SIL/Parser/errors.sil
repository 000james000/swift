// RUN: %swift %s -emit-sil -verify

import swift

sil @block_errors : $() -> () {
bb0:
  %0 = tuple ()
  %1 = return %0 : $()
bb0:                      // expected-error {{redefinition of basic block 'bb0'}}
  %3 = return %0 : $()
}

sil @local_value_errors : $() -> () {
bb0:
  %0 = tuple ()
  %0 = tuple ()           // expected-error {{redefinition of value '%0'}}
  %1 = tuple (%0 : $(), %0 : $(Int))  // expected-error {{value '%0' defined with mismatching type '$()'}}
  %2 = tuple (%199 : $())  // expected-error {{use of undefined value '%199'}}
}


sil @global_value_errors : $() -> () {
bb0:
  %0 = function_ref @global_value_errors : $ () // expected-error {{value '$()' defined with mismatching type '$() -> ()'}}
  %1 = function_ref @not_defined : $ () // expected-error {{use of undefined value 'not_defined'}}
}

sil @global_value_errors : $() -> () {  // expected-error {{redefinition of value 'global_value_errors'}}
bb0:
  %1 = function_ref @wrong_type : $ ()  // expected-note {{prior reference was here}}
}

sil @wrong_type : $() -> () {  // expected-error {{value '$() -> ()' defined with mismatching type '$()'}}
bb0:
  %1 = tuple ()
}
