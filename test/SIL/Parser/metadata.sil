// RUN: %sil-opt %s -verify | FileCheck %s

import Builtin
import Swift

sil_metadata !0 = {"branch_weights", 3, 5}
// CHECK: sil_metadata !0 = {"branch_weights", 3, 5}

sil @test_single_pred_block : $@thin (Builtin.Int1) -> Int64 {
// CHECK-LABEL: sil @test_single_pred_block
bb0(%0 : $Builtin.Int1):
  cond_br %0, bb1, bb2, !prof !0
// CHECK-NEXT: bb0
// CHECK-NEXT: cond_br %{{[0-9]+}}, bb1, bb2, !prof !0

bb1:
  %4 = integer_literal $Builtin.Int64, 1
  br bb3(%4 : $Builtin.Int64)

bb2:
  %9 = integer_literal $Builtin.Int64, 2
  br bb3(%9 : $Builtin.Int64)

bb3(%6 : $Builtin.Int64):
  %7 = struct $Int64 (%6 : $Builtin.Int64)
  br bb4(%7 : $Int64)

bb4(%8 : $Int64):
  return %8 : $Int64
}
