// RUN: %sil-opt %s -constant-propagation | FileCheck %s
import Builtin

sil @fold_sadd_with_overflow : $[thin] () -> Builtin.Int64 {
bb0:
 %1 = builtin_function_ref #Builtin.int_sadd_with_overflow_Int64 : $[thin] (Builtin.Int64, Builtin.Int64) -> (Builtin.Int64, Builtin.Int1)
 %0 = integer_literal $Builtin.Int64, 2 
 %110 = integer_literal $Builtin.Int64, 3        
 %18 = apply %1(%0, %110) : $[thin] (Builtin.Int64, Builtin.Int64) -> (Builtin.Int64, Builtin.Int1)
 %19 = tuple_extract %18 : $(Builtin.Int64, Builtin.Int1), 0
 return %19 : $Builtin.Int64
// CHECK-LABEL: sil @fold_sadd_with_overflow
// CHECK: builtin_function_ref #Builtin.int_sadd_with_overflow_Int64
// CHECK: [[RES:%.*]] = integer_literal $Builtin.Int64, 5
// CHECK-NEXT: [[OVERFLOW:%.*]] = integer_literal $Builtin.Int1, 0
// CHECK_NEXT: tuple ([[RES]] : $Builtin.Int64, [[OVERFLOW]] : $Builtin.Int1)
}

