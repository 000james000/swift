add_subdirectory(Utils)
add_subdirectory(SILCombiner)
add_subdirectory(UtilityPasses)
add_subdirectory(ARC)
add_subdirectory(PassManager)
add_subdirectory(Loop)
add_subdirectory(Diagnostics)
add_swift_library(swiftSILPasses
  ${SILCOMBINER_SOURCES}
  ${UTILITYPASSES_SOURCES}
  ${ARC_SOURCES}
  ${PM_SOURCES}
  ${LOOP_SOURCES}
  ${DIAG_SOURCES}
  AllocBoxToStack.cpp
  CSE.cpp
  CapturePromotion.cpp
  CapturePropagation.cpp
  ClosureSpecializer.cpp
  CopyForwarding.cpp
  RedundantOverflowCheckRemoval.cpp
  DeadCodeElimination.cpp
  DeadFunctionElimination.cpp
  DeadObjectElimination.cpp
  ExternalDefsToDecls.cpp
  FunctionSignatureOpts.cpp
  GlobalDeadStoreElimination.cpp
  GlobalRedundantLoadElimination.cpp
  GlobalOpt.cpp
  GlobalPropertyOpt.cpp
  LetPropertiesOpts.cpp
  MergeCondFail.cpp
  PerformanceInliner.cpp
  PrettyStackTrace.cpp
  RemovePin.cpp
  SILCleanup.cpp
  SILCodeMotion.cpp
  SILLowerAggregateInstrs.cpp
  SILMem2Reg.cpp
  SILSROA.cpp
  SimplifyCFG.cpp
  Sink.cpp
  SpeculativeDevirtualizer.cpp
  StackPromotion.cpp
  UsePrespecialized.cpp
  LINK_LIBRARIES swiftSILPassesUtils swiftSILAnalysis)
